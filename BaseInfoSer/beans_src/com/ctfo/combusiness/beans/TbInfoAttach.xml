<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="TB_INFO_ATTACH">
  <typeAlias alias="dynamicSqlParameter" type="com.ctfo.local.obj.DynamicSqlParameter" />
  <resultMap class="com.ctfo.combusiness.beans.TbInfoAttach" id="TbInfoAttach">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Sat Sep 24 18:01:14 CST 2011.
    -->
    <result column="ATTACH_ID" jdbcType="VARCHAR" property="attachId" />
    <result column="ATTACH_TYPE" jdbcType="VARCHAR" property="attachType" />
    <result column="INFO_ID" jdbcType="VARCHAR" property="infoId" />
    <result column="ATTACH_THEME" jdbcType="VARCHAR" property="attachTheme" />
    <result column="ATTACH_URI" jdbcType="VARCHAR" property="attachUri" />
  </resultMap>
  <sql id="columns">
    ATTACH_ID,ATTACH_TYPE,INFO_ID,ATTACH_THEME,ATTACH_URI
  </sql>
  <sql id="table">
    TB_INFO_ATTACH
  </sql>
  <sql id="set">
    <dynamic prepend="set">
      <isNotNull prepend="," property="attachType">
        ATTACH_TYPE = #attachType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="infoId">
        INFO_ID = #infoId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="attachTheme">
        ATTACH_THEME = #attachTheme:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="attachUri">
        ATTACH_URI = #attachUri:VARCHAR#
      </isNotNull>
    </dynamic>
  </sql>
  <sql id="setParam">
    <dynamic prepend="set">
      <isNotNull prepend="," property="updateValue.attachType">
        ATTACH_TYPE =  #updateValue.attachType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.infoId">
        INFO_ID =  #updateValue.infoId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.attachTheme">
        ATTACH_THEME =  #updateValue.attachTheme:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.attachUri">
        ATTACH_URI =  #updateValue.attachUri:VARCHAR#
      </isNotNull>
    </dynamic>
  </sql>
  <sql id="equal_WHERE">
    <isNotNull prepend="AND" property="equal.attachId">
      ATTACH_ID =  #equal.attachId:VARCHAR#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.attachType">
      ATTACH_TYPE =  #equal.attachType:VARCHAR#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.infoId">
      INFO_ID =  #equal.infoId:VARCHAR#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.attachTheme">
      ATTACH_THEME =  #equal.attachTheme:VARCHAR#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.attachUri">
      ATTACH_URI =  #equal.attachUri:VARCHAR#
    </isNotNull>
  </sql>
  <sql id="like_WHERE">
    <isNotNull prepend="AND" property="like.attachType">
      ATTACH_TYPE like '%' || #like.attachType:VARCHAR# || '%'
    </isNotNull>
    <isNotNull prepend="AND" property="like.attachTheme">
      ATTACH_THEME like '%' || #like.attachTheme:VARCHAR# || '%'
    </isNotNull>
    <isNotNull prepend="AND" property="like.attachUri">
      ATTACH_URI like '%' || #like.attachUri:VARCHAR# || '%'
    </isNotNull>
  </sql>
  <sql id="no_equal_WHERE">
    <isNotEmpty prepend="AND" property="noId">
      COMBO_ID !=#noId:VARCHAR#
    </isNotEmpty>
  </sql>
  <sql id="order">
    <dynamic prepend="ORDER BY">
      <isNotNull prepend="AND" property="order">
        #order# $sort$
      </isNotNull>
    </dynamic>
  </sql>
  <sql id="where_param">
    <include refid="where" />
    <include refid="equal_WHERE" />
    <include refid="no_equal_WHERE" />
    <include refid="like_WHERE" />
  </sql>
  <sql id="where">
    WHERE ENABLE_FLAG!='-1'
  </sql>
  <insert id="insert" parameterClass="com.ctfo.combusiness.beans.TbInfoAttach">
    <selectKey keyProperty="attachId" resultClass="Long">
      SELECT SEQ_ID.NEXTVAL AS VALUE FROM DUAL 
    </selectKey>
    insert into TB_INFO_ATTACH (ATTACH_ID, ATTACH_TYPE, INFO_ID, ATTACH_THEME, ATTACH_URI)
    values (#attachId:VARCHAR#, #attachType:VARCHAR#, #infoId:VARCHAR#, #attachTheme:VARCHAR#,
      #attachUri:VARCHAR#)
  </insert>
  <delete id="delete" parameterClass="Long">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Sat Sep 24 18:01:14 CST 2011.
    -->
    delete from 
    <include refid="table" />
    where ATTACH_ID = #attachId:VARCHAR#
  </delete>
  <update id="update" parameterClass="com.ctfo.combusiness.beans.TbInfoAttach">
    update 
    <include refid="table" />
    <include refid="set" />
    <include refid="where" />
      and ATTACH_ID = #attachId:VARCHAR#
  </update>
  <update id="updateParam" parameterClass="dynamicSqlParameter">
    update 
    <include refid="table" />
    <include refid="setParam" />
    <include refid="where" />
    <include refid="equal_WHERE" />
  </update>
  <select id="select" resultMap="TbInfoAttach">
    select 
    <include refid="columns" />
    from
    <include refid="table" />
    <include refid="where" />
  </select>
  <select id="count" resultClass="int">
    SELECT COUNT(1) FROM 
    <include refid="table" />
  </select>
  <select id="selectParam" parameterClass="dynamicSqlParameter" resultMap="TbInfoAttach">
    select 
    <include refid="columns" />
    from
    <include refid="table" />
    <include refid="where_param" />
  </select>
  <select id="countParam" parameterClass="dynamicSqlParameter" resultClass="int">
    SELECT COUNT(1) FROM
    <include refid="table" />
    <include refid="where_param" />
  </select>
  <select id="selectPk" parameterClass="com.ctfo.combusiness.beans.TbInfoAttach" resultMap="TbInfoAttach">
    select 
    <include refid="columns" />
    from
    <include refid="table" />
    where ATTACH_ID = #attachId:VARCHAR#
  </select>
  <select id="selectPageForParam" parameterClass="dynamicSqlParameter" resultMap="TbInfoAttach">
    select 
    <include refid="columns" />
    FROM (SELECT BB.*,ROWNUM r FROM (SELECT *  FROM 
    <include refid="table" />
    <include refid="where_param" />
    ) BB
    <dynamic prepend="WHERE">
      <isGreaterEqual compareValue="0" prepend="" property="endNum">
        <![CDATA[  ROWNUM <= #endNum#  ]]>
      </isGreaterEqual>
    </dynamic>
    ) tt
    <dynamic prepend="WHERE">
      <isGreaterEqual compareValue="0" prepend="AND" property="startNum">
        <![CDATA[  tt.r > #startNum# ]]>
      </isGreaterEqual>
    </dynamic>
  </select>
  <typeAlias alias="dynamicSqlParameter" type="com.ctfo.local.obj.DynamicSqlParameter" />
  <resultMap class="com.ctfo.combusiness.beans.TbInfoAttach" id="TbInfoAttach">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Sat Sep 24 17:57:43 CST 2011.
    -->
    <result column="ATTACH_ID" jdbcType="DECIMAL" property="attachId" />
    <result column="ATTACH_TYPE" jdbcType="VARCHAR" property="attachType" />
    <result column="INFO_ID" jdbcType="DECIMAL" property="infoId" />
    <result column="ATTACH_THEME" jdbcType="VARCHAR" property="attachTheme" />
    <result column="ATTACH_URI" jdbcType="VARCHAR" property="attachUri" />
  </resultMap>
  <sql id="columns">
    ATTACH_ID,ATTACH_TYPE,INFO_ID,ATTACH_THEME,ATTACH_URI
  </sql>
  <sql id="table">
    TB_INFO_ATTACH
  </sql>
  <sql id="set">
    <dynamic prepend="set">
      <isNotNull prepend="," property="attachType">
        ATTACH_TYPE = #attachType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="infoId">
        INFO_ID = #infoId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="attachTheme">
        ATTACH_THEME = #attachTheme:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="attachUri">
        ATTACH_URI = #attachUri:VARCHAR#
      </isNotNull>
    </dynamic>
  </sql>
  <sql id="setParam">
    <dynamic prepend="set">
      <isNotNull prepend="," property="updateValue.attachType">
        ATTACH_TYPE =  #updateValue.attachType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.infoId">
        INFO_ID =  #updateValue.infoId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.attachTheme">
        ATTACH_THEME =  #updateValue.attachTheme:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.attachUri">
        ATTACH_URI =  #updateValue.attachUri:VARCHAR#
      </isNotNull>
    </dynamic>
  </sql>
  <sql id="equal_WHERE">
    <isNotNull prepend="AND" property="equal.attachId">
      ATTACH_ID =  #equal.attachId:VARCHAR#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.attachType">
      ATTACH_TYPE =  #equal.attachType:VARCHAR#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.infoId">
      INFO_ID =  #equal.infoId:VARCHAR#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.attachTheme">
      ATTACH_THEME =  #equal.attachTheme:VARCHAR#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.attachUri">
      ATTACH_URI =  #equal.attachUri:VARCHAR#
    </isNotNull>
  </sql>
  <sql id="like_WHERE">
    <isNotNull prepend="AND" property="like.attachType">
      ATTACH_TYPE like '%' || #like.attachType:VARCHAR# || '%'
    </isNotNull>
    <isNotNull prepend="AND" property="like.attachTheme">
      ATTACH_THEME like '%' || #like.attachTheme:VARCHAR# || '%'
    </isNotNull>
    <isNotNull prepend="AND" property="like.attachUri">
      ATTACH_URI like '%' || #like.attachUri:VARCHAR# || '%'
    </isNotNull>
  </sql>
  <sql id="no_equal_WHERE">
    <isNotEmpty prepend="AND" property="noId">
      COMBO_ID !=#noId:VARCHAR#
    </isNotEmpty>
  </sql>
  <sql id="order">
    <dynamic prepend="ORDER BY">
      <isNotNull prepend="AND" property="order">
        #order# $sort$
      </isNotNull>
    </dynamic>
  </sql>
  <sql id="where_param">
    <include refid="where" />
    <include refid="equal_WHERE" />
    <include refid="no_equal_WHERE" />
    <include refid="like_WHERE" />
  </sql>
  <sql id="where">
    WHERE ENABLE_FLAG!=-1
  </sql>
  <insert id="insert" parameterClass="com.ctfo.combusiness.beans.TbInfoAttach">
    <selectKey keyProperty="attachId" resultClass="Long">
      SELECT SEQ_ID.NEXTVAL AS VALUE FROM DUAL 
    </selectKey>
    insert into TB_INFO_ATTACH (ATTACH_ID, ATTACH_TYPE, INFO_ID, ATTACH_THEME, ATTACH_URI)
    values (#attachId:VARCHAR#, #attachType:VARCHAR#, #infoId:VARCHAR#, #attachTheme:VARCHAR#,
      #attachUri:VARCHAR#)
  </insert>
  <delete id="delete" parameterClass="Long">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Sat Sep 24 17:57:43 CST 2011.
    -->
    delete from 
    <include refid="table" />
    where ATTACH_ID = #attachId:VARCHAR#
  </delete>
  <update id="update" parameterClass="com.ctfo.combusiness.beans.TbInfoAttach">
    update 
    <include refid="table" />
    <include refid="set" />
    <include refid="where" />
      and ATTACH_ID = #attachId:VARCHAR#
  </update>
  <update id="updateParam" parameterClass="dynamicSqlParameter">
    update 
    <include refid="table" />
    <include refid="setParam" />
    <include refid="where" />
    <include refid="equal_WHERE" />
  </update>
  <select id="select" resultMap="TbInfoAttach">
    select 
    <include refid="columns" />
    from
    <include refid="table" />
    <include refid="where" />
  </select>
  <select id="count" resultClass="int">
    SELECT COUNT(1) FROM 
    <include refid="table" />
  </select>
  <select id="selectParam" parameterClass="dynamicSqlParameter" resultMap="TbInfoAttach">
    select 
    <include refid="columns" />
    from
    <include refid="table" />
    <include refid="where_param" />
  </select>
  <select id="countParam" parameterClass="dynamicSqlParameter" resultClass="int">
    SELECT COUNT(1) FROM
    <include refid="table" />
    <include refid="where_param" />
  </select>
  <select id="selectPk" parameterClass="com.ctfo.combusiness.beans.TbInfoAttach" resultMap="TbInfoAttach">
    select 
    <include refid="columns" />
    from
    <include refid="table" />
    where ATTACH_ID = #attachId:VARCHAR#
  </select>
  <select id="selectPageForParam" parameterClass="dynamicSqlParameter" resultMap="TbInfoAttach">
    select 
    <include refid="columns" />
    FROM (SELECT BB.*,ROWNUM r FROM (SELECT *  FROM 
    <include refid="table" />
    <include refid="where_param" />
    ) BB
    <dynamic prepend="WHERE">
      <isGreaterEqual compareValue="0" prepend="" property="endNum">
        <![CDATA[  ROWNUM <= #endNum#  ]]>
      </isGreaterEqual>
    </dynamic>
    ) tt
    <dynamic prepend="WHERE">
      <isGreaterEqual compareValue="0" prepend="AND" property="startNum">
        <![CDATA[  tt.r > #startNum# ]]>
      </isGreaterEqual>
    </dynamic>
  </select>
</sqlMap>