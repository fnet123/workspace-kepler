<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="ThPlatInfos" >
  <typeAlias type="com.ctfo.local.obj.DynamicSqlParameter" alias="dynamicSqlParameter" />
  <resultMap id="ThPlatInfos" class="com.ctfo.informationser.monitoring.beans.ThPlatInfos" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Fri Dec 23 13:20:06 CST 2011.
    -->
    <result column="PID" property="pid" jdbcType="VARCHAR" />
    <result column="MESSAGE_CONTENT" property="messageContent" jdbcType="VARCHAR" />
    <result column="MESSAGE_ID" property="messageId" jdbcType="VARCHAR" />
    <result column="OBJECT_ID" property="objectId" jdbcType="VARCHAR" />
    <result column="OBJECT_TYPE" property="objectType" jdbcType="DECIMAL" />
    <result column="UTC" property="utc" jdbcType="DECIMAL" />
    <result column="OP_TYPE" property="opType" jdbcType="DECIMAL" />
    <result column="RESULT" property="result" jdbcType="VARCHAR" />
    <result column="RESULTUTC" property="resultutc" jdbcType="DECIMAL" />
    <result column="RESULT_OP" property="resultOp" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="columns" >
    PID,MESSAGE_CONTENT,MESSAGE_ID,OBJECT_ID,OBJECT_TYPE,UTC,OP_TYPE,RESULT,RESULTUTC,RESULT_OP,AREA_ID,SEQ
  </sql>
  <sql id="table" >
    TH_PLAT_INFOS
  </sql>
  <sql id="set" >
    <dynamic prepend="set" >
      MESSAGE_CONTENT = #messageContent:VARCHAR#
      ,MESSAGE_ID = #messageId:VARCHAR#
      ,OBJECT_ID = #objectId:VARCHAR#
      ,OBJECT_TYPE = #objectType:DECIMAL#
      ,UTC = #utc:DECIMAL#
      ,OP_TYPE = #opType:DECIMAL#
      ,RESULT = #result:VARCHAR#
      ,RESULTUTC = #resultutc:DECIMAL#
      ,RESULT_OP = #resultOp:VARCHAR#
      ,AREA_ID = #areaId:VARCHAR#
      ,SEQ = #seq:VARCHAR#
    </dynamic>
  </sql>
  <sql id="setParam" >
    <dynamic prepend="set" >
      <isNotNull prepend="," property="updateValue.messageContent" >
        MESSAGE_CONTENT =  #updateValue.messageContent:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.messageId" >
        MESSAGE_ID =  #updateValue.messageId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.objectId" >
        OBJECT_ID =  #updateValue.objectId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.objectType" >
        OBJECT_TYPE =  #updateValue.objectType:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.utc" >
        UTC =  #updateValue.utc:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.opType" >
        OP_TYPE =  #updateValue.opType:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.result" >
        RESULT =  #updateValue.result:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.resultutc" >
        RESULTUTC =  #updateValue.resultutc:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.resultOp" >
        RESULT_OP =  #updateValue.resultOp:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="updateValue.areaId" >
        AREA_ID =  #updateValue.areaId:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="updateValue.seq" >
        SEQ =  #updateValue.seq:VARCHAR#
      </isNotNull>
    </dynamic>
  </sql>
  <sql id="equal_WHERE" >
    <isNotNull prepend="AND" property="equal.pid" >
      PID =  #equal.pid:VARCHAR#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.messageContent" >
      MESSAGE_CONTENT =  #equal.messageContent:VARCHAR#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.messageId" >
      MESSAGE_ID =  #equal.messageId:VARCHAR#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.objectId" >
      OBJECT_ID =  #equal.objectId:VARCHAR# 
    </isNotNull>
    <isNotNull prepend="AND" property="equal.objectType" >
      OBJECT_TYPE =  #equal.objectType:DECIMAL#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.utc" >
      UTC =  #equal.utc:DECIMAL#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.opType" >
      OP_TYPE =  #equal.opType:DECIMAL#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.result" >
      RESULT =  #equal.result:VARCHAR#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.resultutc" >
      RESULTUTC =  #equal.resultutc:DECIMAL#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.resultOp" >
      RESULT_OP =  #equal.resultOp:VARCHAR#
    </isNotNull>
     <isNotNull prepend="," property="equal.areaId" >
        AREA_ID =  #equal.areaId:VARCHAR#
      </isNotNull>
       <isNotNull prepend="," property="equal.seq" >
        SEQ =  #equal.seq:VARCHAR#
      </isNotNull>
  </sql>
  <sql id="like_WHERE" >
    <isNotNull prepend="AND" property="like.messageContent" >
      MESSAGE_CONTENT like '%' || #like.messageContent:VARCHAR# || '%'
    </isNotNull>
    <isNotNull prepend="AND" property="like.messageId" >
      MESSAGE_ID like '%' || #like.messageId:VARCHAR# || '%'
    </isNotNull>
    <isNotNull prepend="AND" property="like.objectId" >
      OBJECT_ID like '%' || #like.objectId:VARCHAR# || '%'
    </isNotNull>
    <isNotNull prepend="AND" property="like.result" >
      RESULT like '%' || #like.result:VARCHAR# || '%'
    </isNotNull>
    <isNotNull prepend="AND" property="like.resultOp" >
      RESULT_OP like '%' || #like.resultOp:VARCHAR# || '%'
    </isNotNull>
    <isNotNull prepend="," property="like.areaId" >
  		AREA_ID like '%' || #like.areaId:VARCHAR# || '%'
     </isNotNull>
     <isNotNull prepend="," property="like.seq" >
        SEQ like '%' || #like.seq:VARCHAR# || '%'
     </isNotNull>
  </sql>
  <sql id="no_equal_WHERE" >
    <isNotEmpty prepend="AND" property="noId" >
      COMBO_ID !=#noId:VARCHAR#
    </isNotEmpty>
  </sql>
  <sql id="order" >
    <dynamic prepend="ORDER BY" >
      <isNotEmpty prepend="AND" property="order" >
        #order# $sort$
      </isNotEmpty>
    </dynamic>
  </sql>
  <sql id="where_param" >
    <include refid="where" />
    <include refid="equal_WHERE" />
    <include refid="no_equal_WHERE" />
    <include refid="like_WHERE" />
  </sql>
  <sql id="where" >
    WHERE 1=1
  </sql>
  <insert id="insert" parameterClass="com.ctfo.informationser.monitoring.beans.ThPlatInfos" >
    insert into TH_PLAT_INFOS (PID, MESSAGE_CONTENT, MESSAGE_ID, OBJECT_ID, OBJECT_TYPE, UTC,
      OP_TYPE, RESULT, RESULTUTC, RESULT_OP,AREA_ID,SEQ)
    values (#pid:VARCHAR#, #messageContent:VARCHAR#, #messageId:VARCHAR#, #objectId:VARCHAR#,
      #objectType:DECIMAL#, #utc:DECIMAL#, #opType:DECIMAL#, #result:VARCHAR#, #resultutc:DECIMAL#,
      #resultOp:VARCHAR#, #areaId:VARCHAR#, #seq:VARCHAR#)
  </insert>
  <delete id="delete" parameterClass="String" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Fri Dec 23 13:20:06 CST 2011.
    -->
    delete from 
    <include refid="table" />
    where PID = #pid:VARCHAR#
  </delete>
  <update id="update" parameterClass="com.ctfo.informationser.monitoring.beans.ThPlatInfos" >
    update 
    <include refid="table" />
    <include refid="set" />
    <include refid="where" />
      and PID = #pid:VARCHAR#
  </update>
  <update id="updateParam" parameterClass="dynamicSqlParameter" >
    update 
    <include refid="table" />
    <include refid="setParam" />
    <include refid="where" />
    <include refid="equal_WHERE" />
  </update>
  <select id="select" resultMap="ThPlatInfos" >
    select 
    <include refid="columns" />
    from
    <include refid="table" />
    <include refid="where" />
  </select>
  <select id="count" resultClass="int" >
    SELECT COUNT(1) FROM 
    <include refid="table" />
  </select>
  <select id="selectParam" resultMap="ThPlatInfos" parameterClass="dynamicSqlParameter" >
    select 
    <include refid="columns" />
    from
    <include refid="table" />
    <include refid="where_param" />
  </select>
  <select id="countParam" resultClass="int" parameterClass="dynamicSqlParameter" >
    SELECT COUNT(1) FROM
    <include refid="table" />
    <include refid="where_param" />
  </select>
  <select id="selectPk" parameterClass="String" resultMap="ThPlatInfos" >
    select 
    <include refid="columns" />
    from
    <include refid="table" />
    where PID = #pid:VARCHAR#
  </select>
  <select id="selectPageForParam" parameterClass="dynamicSqlParameter" resultMap="ThPlatInfos" >
    select 
    <include refid="columns" />
    FROM (SELECT BB.*,ROWNUM r FROM (SELECT *  FROM 
    <include refid="table" />
    <include refid="where_param" />
    ) BB
    <dynamic prepend="WHERE" >
      <isGreaterEqual prepend="" property="endNum" compareValue="0" >
        <![CDATA[  ROWNUM <= #endNum#  ]]>
      </isGreaterEqual>
    </dynamic>
    ) tt
    <dynamic prepend="WHERE" >
      <isGreaterEqual prepend="AND" property="startNum" compareValue="0" >
        <![CDATA[  tt.r > #startNum# ]]>
      </isGreaterEqual>
    </dynamic>
  </select>
</sqlMap>