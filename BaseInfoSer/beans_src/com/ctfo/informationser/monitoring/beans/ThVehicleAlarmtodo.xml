<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="ThVehicleAlarmtodo" >
  <typeAlias type="com.ctfo.local.obj.DynamicSqlParameter" alias="dynamicSqlParameter" />
  <resultMap id="ThVehicleAlarmtodo" class="com.ctfo.informationser.monitoring.beans.ThVehicleAlarmtodo" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Fri Dec 23 13:20:06 CST 2011.
    -->
    <result column="PID" property="pid" jdbcType="VARCHAR" />
    <result column="VEHICLENO" property="vehicleno" jdbcType="VARCHAR" />
    <result column="VEHICLE_COLOR" property="vehicleColor" jdbcType="DECIMAL" />
    <result column="WAN_SRC" property="wanSrc" jdbcType="DECIMAL" />
    <result column="WAN_TYPE" property="wanType" jdbcType="DECIMAL" />
    <result column="WAR_UTC" property="warUtc" jdbcType="DECIMAL" />
    <result column="SUPERVISION_ID" property="supervisionId" jdbcType="VARCHAR" />
    <result column="SUPERVISION_END_UTC" property="supervisionEndUtc" jdbcType="DECIMAL" />
    <result column="SUPERVISION_LEVEL" property="supervisionLevel" jdbcType="DECIMAL" />
    <result column="SUPERVISOR" property="supervisor" jdbcType="VARCHAR" />
    <result column="SUPERVISOR_TEL" property="supervisorTel" jdbcType="VARCHAR" />
    <result column="SUPERVISOR_EMAIL" property="supervisorEmail" jdbcType="VARCHAR" />
    <result column="UTC" property="utc" jdbcType="DECIMAL" />
    <result column="STATUS" property="status" jdbcType="DECIMAL" />
  </resultMap>
  <sql id="columns" >
    PID,VEHICLENO,VEHICLE_COLOR,WAN_SRC,WAN_TYPE,WAR_UTC,SUPERVISION_ID,SUPERVISION_END_UTC,SUPERVISION_LEVEL,SUPERVISOR,SUPERVISOR_TEL,SUPERVISOR_EMAIL,UTC,STATUS
  </sql>
  <sql id="table" >
    TH_VEHICLE_ALARMTODO
  </sql>
  <sql id="set" >
    <dynamic prepend="set" >
      VEHICLENO = #vehicleno:VARCHAR#
      ,VEHICLE_COLOR = #vehicleColor:DECIMAL#
      ,WAN_SRC = #wanSrc:DECIMAL#
      ,WAN_TYPE = #wanType:DECIMAL#
      ,WAR_UTC = #warUtc:DECIMAL#
      ,SUPERVISION_ID = #supervisionId:VARCHAR#
      ,SUPERVISION_END_UTC = #supervisionEndUtc:DECIMAL#
      ,SUPERVISION_LEVEL = #supervisionLevel:DECIMAL#
      ,SUPERVISOR = #supervisor:VARCHAR#
      ,SUPERVISOR_TEL = #supervisorTel:VARCHAR#
      ,SUPERVISOR_EMAIL = #supervisorEmail:VARCHAR#
      ,UTC = #utc:DECIMAL#
      ,STATUS = #status:DECIMAL#
    </dynamic>
  </sql>
  <sql id="setParam" >
    <dynamic prepend="set" >
      <isNotNull prepend="," property="updateValue.vehicleno" >
        VEHICLENO =  #updateValue.vehicleno:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.vehicleColor" >
        VEHICLE_COLOR =  #updateValue.vehicleColor:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.wanSrc" >
        WAN_SRC =  #updateValue.wanSrc:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.wanType" >
        WAN_TYPE =  #updateValue.wanType:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.warUtc" >
        WAR_UTC =  #updateValue.warUtc:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.supervisionId" >
        SUPERVISION_ID =  #updateValue.supervisionId:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.supervisionEndUtc" >
        SUPERVISION_END_UTC =  #updateValue.supervisionEndUtc:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.supervisionLevel" >
        SUPERVISION_LEVEL =  #updateValue.supervisionLevel:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.supervisor" >
        SUPERVISOR =  #updateValue.supervisor:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.supervisorTel" >
        SUPERVISOR_TEL =  #updateValue.supervisorTel:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.supervisorEmail" >
        SUPERVISOR_EMAIL =  #updateValue.supervisorEmail:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.utc" >
        UTC =  #updateValue.utc:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.status" >
        STATUS =  #updateValue.status:DECIMAL#
      </isNotNull>
    </dynamic>
  </sql>
  <sql id="equal_WHERE" >
    <isNotNull prepend="AND" property="equal.pid" >
      PID =  #equal.pid:VARCHAR#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.vehicleno" >
      VEHICLENO =  #equal.vehicleno:VARCHAR#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.vehicleColor" >
      VEHICLE_COLOR =  #equal.vehicleColor:DECIMAL#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.wanSrc" >
      WAN_SRC =  #equal.wanSrc:DECIMAL#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.wanType" >
      WAN_TYPE =  #equal.wanType:DECIMAL#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.warUtc" >
      WAR_UTC =  #equal.warUtc:DECIMAL#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.supervisionId" >
      SUPERVISION_ID =  #equal.supervisionId:VARCHAR#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.supervisionEndUtc" >
      SUPERVISION_END_UTC =  #equal.supervisionEndUtc:DECIMAL#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.supervisionLevel" >
      SUPERVISION_LEVEL =  #equal.supervisionLevel:DECIMAL#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.supervisor" >
      SUPERVISOR =  #equal.supervisor:VARCHAR#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.supervisorTel" >
      SUPERVISOR_TEL =  #equal.supervisorTel:VARCHAR#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.supervisorEmail" >
      SUPERVISOR_EMAIL =  #equal.supervisorEmail:VARCHAR#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.utc" >
      UTC =  #equal.utc:DECIMAL#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.status" >
      STATUS =  #equal.status:DECIMAL#
    </isNotNull>
  </sql>
  <sql id="like_WHERE" >
    <isNotNull prepend="AND" property="like.vehicleno" >
      VEHICLENO like '%' || #like.vehicleno:VARCHAR# || '%'
    </isNotNull>
    <isNotNull prepend="AND" property="like.supervisionId" >
      SUPERVISION_ID like '%' || #like.supervisionId:VARCHAR# || '%'
    </isNotNull>
    <isNotNull prepend="AND" property="like.supervisor" >
      SUPERVISOR like '%' || #like.supervisor:VARCHAR# || '%'
    </isNotNull>
    <isNotNull prepend="AND" property="like.supervisorTel" >
      SUPERVISOR_TEL like '%' || #like.supervisorTel:VARCHAR# || '%'
    </isNotNull>
    <isNotNull prepend="AND" property="like.supervisorEmail" >
      SUPERVISOR_EMAIL like '%' || #like.supervisorEmail:VARCHAR# || '%'
    </isNotNull>
  </sql>
  <sql id="no_equal_WHERE" >
    <isNotEmpty prepend="AND" property="noId" >
      COMBO_ID !=#noId:VARCHAR#
    </isNotEmpty>
  </sql>
  <sql id="order" >
    <dynamic prepend="ORDER BY" >
      <isNotEmpty prepend="AND" property="order" >
        #order# $sort$
      </isNotEmpty>
    </dynamic>
  </sql>
  <sql id="where_param" >
    <include refid="where" />
    <include refid="equal_WHERE" />
    <include refid="no_equal_WHERE" />
    <include refid="like_WHERE" />
  </sql>
  <sql id="where" >
    WHERE 1=1
  </sql>
  <insert id="insert" parameterClass="com.ctfo.informationser.monitoring.beans.ThVehicleAlarmtodo" >
    insert into TH_VEHICLE_ALARMTODO (PID, VEHICLENO, VEHICLE_COLOR, WAN_SRC, WAN_TYPE,
      WAR_UTC, SUPERVISION_ID, SUPERVISION_END_UTC, SUPERVISION_LEVEL, SUPERVISOR, SUPERVISOR_TEL,
      SUPERVISOR_EMAIL, UTC, STATUS)
    values (#pid:VARCHAR#, #vehicleno:VARCHAR#, #vehicleColor:DECIMAL#, #wanSrc:DECIMAL#,
      #wanType:DECIMAL#, #warUtc:DECIMAL#, #supervisionId:VARCHAR#, #supervisionEndUtc:DECIMAL#,
      #supervisionLevel:DECIMAL#, #supervisor:VARCHAR#, #supervisorTel:VARCHAR#,
      #supervisorEmail:VARCHAR#, #utc:DECIMAL#, #status:DECIMAL#)
  </insert>
  <delete id="delete" parameterClass="String" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Fri Dec 23 13:20:06 CST 2011.
    -->
    delete from 
    <include refid="table" />
    where PID = #pid:VARCHAR#
  </delete>
  <update id="update" parameterClass="com.ctfo.informationser.monitoring.beans.ThVehicleAlarmtodo" >
    update 
    <include refid="table" />
    <include refid="set" />
    <include refid="where" />
      and PID = #pid:VARCHAR#
  </update>
  <update id="updateParam" parameterClass="dynamicSqlParameter" >
    update 
    <include refid="table" />
    <include refid="setParam" />
    <include refid="where" />
    <include refid="equal_WHERE" />
  </update>
  <select id="select" resultMap="ThVehicleAlarmtodo" >
    select 
    <include refid="columns" />
    from
    <include refid="table" />
    <include refid="where" />
  </select>
  <select id="count" resultClass="int" >
    SELECT COUNT(1) FROM 
    <include refid="table" />
  </select>
  <select id="selectParam" resultMap="ThVehicleAlarmtodo" parameterClass="dynamicSqlParameter" >
    select 
    <include refid="columns" />
    from
    <include refid="table" />
    <include refid="where_param" />
  </select>
  <select id="countParam" resultClass="int" parameterClass="dynamicSqlParameter" >
    SELECT COUNT(1) FROM
    <include refid="table" />
    <include refid="where_param" />
  </select>
  <select id="selectPk" parameterClass="String" resultMap="ThVehicleAlarmtodo" >
    select 
    <include refid="columns" />
    from
    <include refid="table" />
    where PID = #pid:VARCHAR#
  </select>
  <select id="selectPageForParam" parameterClass="dynamicSqlParameter" resultMap="ThVehicleAlarmtodo" >
    select 
    <include refid="columns" />
    FROM (SELECT BB.*,ROWNUM r FROM (SELECT *  FROM 
    <include refid="table" />
    <include refid="where_param" />
    ) BB
    <dynamic prepend="WHERE" >
      <isGreaterEqual prepend="" property="endNum" compareValue="0" >
        <![CDATA[  ROWNUM <= #endNum#  ]]>
      </isGreaterEqual>
    </dynamic>
    ) tt
    <dynamic prepend="WHERE" >
      <isGreaterEqual prepend="AND" property="startNum" compareValue="0" >
        <![CDATA[  tt.r > #startNum# ]]>
      </isGreaterEqual>
    </dynamic>
  </select>
</sqlMap>