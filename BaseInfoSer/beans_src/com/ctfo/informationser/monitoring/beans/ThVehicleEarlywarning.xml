<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="ThVehicleEarlywarning" >
  <typeAlias type="com.ctfo.local.obj.DynamicSqlParameter" alias="dynamicSqlParameter" />
  <resultMap id="ThVehicleEarlywarning" class="com.ctfo.informationser.monitoring.beans.ThVehicleEarlywarning" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Fri Dec 23 13:20:06 CST 2011.
    -->
    <result column="PID" property="pid" jdbcType="VARCHAR" />
    <result column="ALARM_FROM" property="alarmFrom" jdbcType="DECIMAL" />
    <result column="ALARM_TYPE" property="alarmType" jdbcType="VARCHAR" />
    <result column="ALARM_TIME" property="alarmTime" jdbcType="DECIMAL" />
    <result column="ALARM_DESCR" property="alarmDescr" jdbcType="VARCHAR" />
    <result column="VID" property="vid" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="columns" >
    PID,ALARM_FROM,ALARM_TYPE,ALARM_TIME,ALARM_DESCR,VID
  </sql>
  <sql id="table" >
    TH_VEHICLE_EARLYWARNING
  </sql>
  <sql id="set" >
    <dynamic prepend="set" >
      ALARM_FROM = #alarmFrom:DECIMAL#
      ,ALARM_TYPE = #alarmType:VARCHAR#
      ,ALARM_TIME = #alarmTime:DECIMAL#
      ,ALARM_DESCR = #alarmDescr:VARCHAR#
      ,VID = #vid:VARCHAR#
    </dynamic>
  </sql>
  <sql id="setParam" >
    <dynamic prepend="set" >
      <isNotNull prepend="," property="updateValue.alarmFrom" >
        ALARM_FROM =  #updateValue.alarmFrom:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.alarmType" >
        ALARM_TYPE =  #updateValue.alarmType:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.alarmTime" >
        ALARM_TIME =  #updateValue.alarmTime:DECIMAL#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.alarmDescr" >
        ALARM_DESCR =  #updateValue.alarmDescr:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="updateValue.vid" >
        VID =  #updateValue.vid:VARCHAR#
      </isNotNull>
    </dynamic>
  </sql>
  <sql id="equal_WHERE" >
    <isNotNull prepend="AND" property="equal.pid" >
      PID =  #equal.pid:VARCHAR#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.alarmFrom" >
      ALARM_FROM =  #equal.alarmFrom:DECIMAL#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.alarmType" >
      ALARM_TYPE =  #equal.alarmType:VARCHAR#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.alarmTime" >
      ALARM_TIME =  #equal.alarmTime:DECIMAL#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.alarmDescr" >
      ALARM_DESCR =  #equal.alarmDescr:VARCHAR#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.vid" >
      VID =  #equal.vid:VARCHAR#
    </isNotNull>
  </sql>
  <sql id="like_WHERE" >
    <isNotNull prepend="AND" property="like.alarmType" >
      ALARM_TYPE like '%' || #like.alarmType:VARCHAR# || '%'
    </isNotNull>
    <isNotNull prepend="AND" property="like.alarmDescr" >
      ALARM_DESCR like '%' || #like.alarmDescr:VARCHAR# || '%'
    </isNotNull>
    <isNotNull prepend="AND" property="like.vid" >
      VID like '%' || #like.vid:VARCHAR# || '%'
    </isNotNull>
  </sql>
  <sql id="no_equal_WHERE" >
    <isNotEmpty prepend="AND" property="noId" >
      COMBO_ID !=#noId:VARCHAR#
    </isNotEmpty>
  </sql>
  <sql id="order" >
    <dynamic prepend="ORDER BY" >
      <isNotEmpty prepend="AND" property="order" >
        #order# $sort$
      </isNotEmpty>
    </dynamic>
  </sql>
  <sql id="where_param" >
    <include refid="where" />
    <include refid="equal_WHERE" />
    <include refid="no_equal_WHERE" />
    <include refid="like_WHERE" />
  </sql>
  <sql id="where" >
    WHERE 1=1
  </sql>
  <insert id="insert" parameterClass="com.ctfo.informationser.monitoring.beans.ThVehicleEarlywarning" >
    insert into TH_VEHICLE_EARLYWARNING (PID, ALARM_FROM, ALARM_TYPE, ALARM_TIME, ALARM_DESCR,
      VID)
    values (#pid:VARCHAR#, #alarmFrom:DECIMAL#, #alarmType:VARCHAR#, #alarmTime:DECIMAL#,
      #alarmDescr:VARCHAR#, #vid:VARCHAR#)
  </insert>
  <delete id="delete" parameterClass="String" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Fri Dec 23 13:20:06 CST 2011.
    -->
    delete from 
    <include refid="table" />
    where PID = #pid:VARCHAR#
  </delete>
  <update id="update" parameterClass="com.ctfo.informationser.monitoring.beans.ThVehicleEarlywarning" >
    update 
    <include refid="table" />
    <include refid="set" />
    <include refid="where" />
      and PID = #pid:VARCHAR#
  </update>
  <update id="updateParam" parameterClass="dynamicSqlParameter" >
    update 
    <include refid="table" />
    <include refid="setParam" />
    <include refid="where" />
    <include refid="equal_WHERE" />
  </update>
  <select id="select" resultMap="ThVehicleEarlywarning" >
    select 
    <include refid="columns" />
    from
    <include refid="table" />
    <include refid="where" />
  </select>
  <select id="count" resultClass="int" >
    SELECT COUNT(1) FROM 
    <include refid="table" />
  </select>
  <select id="selectParam" resultMap="ThVehicleEarlywarning" parameterClass="dynamicSqlParameter" >
    select 
    <include refid="columns" />
    from
    <include refid="table" />
    <include refid="where_param" />
  </select>
  <select id="countParam" resultClass="int" parameterClass="dynamicSqlParameter" >
    SELECT COUNT(1) FROM
    <include refid="table" />
    <include refid="where_param" />
  </select>
  <select id="selectPk" parameterClass="String" resultMap="ThVehicleEarlywarning" >
    select 
    <include refid="columns" />
    from
    <include refid="table" />
    where PID = #pid:VARCHAR#
  </select>
  <select id="selectPageForParam" parameterClass="dynamicSqlParameter" resultMap="ThVehicleEarlywarning" >
    select 
    <include refid="columns" />
    FROM (SELECT BB.*,ROWNUM r FROM (SELECT *  FROM 
    <include refid="table" />
    <include refid="where_param" />
    ) BB
    <dynamic prepend="WHERE" >
      <isGreaterEqual prepend="" property="endNum" compareValue="0" >
        <![CDATA[  ROWNUM <= #endNum#  ]]>
      </isGreaterEqual>
    </dynamic>
    ) tt
    <dynamic prepend="WHERE" >
      <isGreaterEqual prepend="AND" property="startNum" compareValue="0" >
        <![CDATA[  tt.r > #startNum# ]]>
      </isGreaterEqual>
    </dynamic>
  </select>
</sqlMap>