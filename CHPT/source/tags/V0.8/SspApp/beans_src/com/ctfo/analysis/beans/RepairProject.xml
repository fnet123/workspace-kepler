<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="RepairProject">
  <typeAlias alias="dynamicSqlParameter" type="com.ctfo.local.obj.DynamicSqlParameter" />
  <resultMap class="com.ctfo.analysis.beans.RepairProject" id="RepairProject">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Mon Mar 24 16:46:46 CST 2014.
    -->
   <result column="item_id" property="itemId" jdbcType="VARCHAR" />
    <result column="item_no" property="itemNo" jdbcType="VARCHAR" />
    <result column="item_type" property="itemType" jdbcType="VARCHAR" />
    <result column="item_name" property="itemName" jdbcType="VARCHAR" />
    <result column="man_hour_type" property="manHourType" jdbcType="VARCHAR" />
    <result column="man_hour_quantity" property="manHourQuantity" jdbcType="DECIMAL" />
    <result column="man_hour_norm_unitprice" property="manHourNormUnitprice" jdbcType="DECIMAL" />
    <result column="member_discount" property="memberDiscount" jdbcType="DECIMAL" />
    <result column="member_price" property="memberPrice" jdbcType="DECIMAL" />
    <result column="member_sum_money" property="memberSumMoney" jdbcType="DECIMAL" />
    <result column="man_hour_unitprice" property="manHourUnitprice" jdbcType="DECIMAL" />
    <result column="sum_money" property="sumMoney" jdbcType="DECIMAL" />
    <result column="sum_money_goods" property="sumMoneyGoods" jdbcType="DECIMAL" />
    <result column="repair_progress" property="repairProgress" jdbcType="VARCHAR" />
    <result column="repair_station" property="repairStation" jdbcType="VARCHAR" />
    <result column="three_warranty" property="threeWarranty" jdbcType="VARCHAR" />
    <result column="start_work_time" property="startWorkTime" jdbcType="BIGINT" />
    <result column="complete_work_time" property="completeWorkTime" jdbcType="BIGINT" />
    <result column="shut_down_time" property="shutDownTime" jdbcType="BIGINT" />
    <result column="shut_down_reason" property="shutDownReason" jdbcType="VARCHAR" />
    <result column="shut_down_duration" property="shutDownDuration" jdbcType="DECIMAL" />
    <result column="continue_time" property="continueTime" jdbcType="BIGINT" />
    <result column="remarks" property="remarks" jdbcType="VARCHAR" />
    <result column="maintain_id" property="maintainId" jdbcType="VARCHAR" />
    <result column="enable_flag" property="enableFlag" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="columns">
	item_id, item_no, item_type, item_name, man_hour_type, man_hour_quantity,
      man_hour_norm_unitprice, member_discount, member_price, member_sum_money, man_hour_unitprice,
      sum_money, sum_money_goods, repair_progress, repair_station, three_warranty, start_work_time,
      complete_work_time, shut_down_time, shut_down_reason, shut_down_duration, continue_time,
      remarks, maintain_id, enable_flag
  </sql>
  <sql id="table">
    tb_maintain_item
  </sql>
  <sql id="where">
    WHERE 1=1
  </sql> 
  <sql id="where_param">
    <include refid="where" />
    <include refid="equal_WHERE" />
  </sql>
  <sql id="equal_WHERE">
    <isNotNull prepend="AND" property="equal.maintainId">
      maintain_id =  #equal.maintainId:VARCHAR#
    </isNotNull>
  </sql> 
  <select id="countParam" parameterClass="dynamicSqlParameter" resultClass="int">
    SELECT COUNT(1) FROM 
    <include refid="table" />
    <include refid="where_param" />
  </select>
  <select id="selectPageForParam" parameterClass="dynamicSqlParameter" resultMap="RepairProject">
	SELECT BB.* FROM 
    (SELECT 
	    <include refid="columns" /> 
	     FROM 
	    <include refid="table" />
	    <include refid="where_param" />
    ) BB
    LIMIT #startNum#,#pagesize#
  </select>
  
</sqlMap>