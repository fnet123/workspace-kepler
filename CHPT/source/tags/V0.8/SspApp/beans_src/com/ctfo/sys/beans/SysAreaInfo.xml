<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="SysAreaInfo">
  <typeAlias alias="dynamicSqlParameter" type="com.ctfo.local.obj.DynamicSqlParameter" />
  <resultMap class="com.ctfo.sys.beans.SysAreaInfo" id="SysAreaInfo">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Mon Mar 24 16:46:46 CST 2014.
    -->
    <result column="AREA_CODE" property="areaCode" jdbcType="VARCHAR" />
    <result column="AREA_NAME" property="areaName" jdbcType="VARCHAR" />
    <result column="SHORT_NAME" property="shortName" jdbcType="VARCHAR" />
    <result column="LON" property="lon" jdbcType="DECIMAL" />
    <result column="LAT" property="lat" jdbcType="DECIMAL" />
    <result column="AREA_LEVEL" property="areaLevel" jdbcType="DECIMAL" />
    <result column="AREA_FLAG" property="areaFlag" jdbcType="DECIMAL" />
  </resultMap>
  <sql id="columns" >
    AREA_CODE,AREA_NAME,SHORT_NAME,LON,LAT,AREA_LEVEL,AREA_FLAG
  </sql>
  <sql id="table" >
    sys_ssp_area_info
  </sql>
  <sql id="where_param" >
    <include refid="where" />
    <include refid="equal_WHERE" />
    <include refid="no_equal_WHERE" />
    <include refid="like_WHERE" />
    <include refid="vidArray_in_where" />
  </sql>
  <sql id="where" >
    WHERE 1=1
  </sql>  
  <sql id="equal_WHERE" >
    <isNotNull prepend="AND" property="equal.areaCode" >
      AREA_CODE =  #equal.areaCode:VARCHAR#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.areaName" >
      AREA_NAME =  #equal.areaName:VARCHAR#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.shortName" >
      SHORT_NAME =  #equal.shortName:VARCHAR#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.lon" >
      LON =  #equal.lon:DECIMAL#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.lat" >
      LAT =  #equal.lat:DECIMAL#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.areaLevel" >
      AREA_LEVEL =  #equal.areaLevel:DECIMAL#
    </isNotNull>
    <isNotNull prepend="AND" property="equal.areaFlag" >
      AREA_FLAG =  #equal.areaFlag:DECIMAL#
    </isNotNull>
  </sql>  
   <sql id="no_equal_WHERE" >
    <isNotEmpty prepend="AND" property="noId" >
      COMBO_ID !=#noId:VARCHAR#
    </isNotEmpty>
  </sql> 
  <sql id="like_WHERE" >
    <isNotNull prepend="AND" property="like.areaName" >
      AREA_NAME like '%' || #like.areaName:VARCHAR# || '%'
    </isNotNull>
    <isNotNull prepend="AND" property="like.shortName" >
      SHORT_NAME like '%' || #like.shortName:VARCHAR# || '%'
    </isNotNull>
  </sql>  
  <sql id="vidArray_in_where" >
      <isNotNull property="inMap.areaLevel">
          <![CDATA[  and AREA_LEVEL in ]]>
          <iterate property="inMap.areaLevel" conjunction="," open="(" close=")">
              #inMap.areaLevel[]:Integer#
          </iterate>
      </isNotNull>
  </sql>  
  <select id="countParam" resultClass="int" parameterClass="dynamicSqlParameter" >
    SELECT COUNT(1) FROM
    <include refid="table" />
    <include refid="where_param" />
  </select>  
  <select id="selectPageForParam" resultMap="SysAreaInfo" parameterClass="dynamicSqlParameter" >
    select 
    <include refid="columns" />
    from
    <include refid="table" />
    <include refid="where_param" />
    order by area_code
  </select>
</sqlMap>