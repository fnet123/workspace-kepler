<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="RepairAnnex">
  <typeAlias alias="dynamicSqlParameter" type="com.ctfo.local.obj.DynamicSqlParameter" />
  <resultMap class="com.ctfo.analysis.beans.RepairAnnex" id="RepairAnnex">
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Mon Mar 24 16:46:46 CST 2014.
    -->
    <result column="accessory_id" property="accessoryId" jdbcType="VARCHAR" />
    <result column="accessory_name" property="accessoryName" jdbcType="VARCHAR" />
    <result column="accessory_type" property="accessoryType" jdbcType="VARCHAR" />
    <result column="accessory_details" property="accessoryDetails" jdbcType="VARCHAR" />
    <result column="remarks" property="remarks" jdbcType="VARCHAR" />
    <result column="maintain_id" property="maintainId" jdbcType="VARCHAR" />
    <result column="enable_flag" property="enableFlag" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="columns">
	accessory_id, accessory_name, accessory_type, accessory_details, remarks, maintain_id,
      enable_flag
  </sql>
  <sql id="table">
    tb_maintain_accessory
  </sql>
  <sql id="where">
    WHERE 1=1
  </sql> 
  <sql id="where_param">
    <include refid="where" />
    <include refid="equal_WHERE" />
  </sql>
  <sql id="equal_WHERE">
    <isNotNull prepend="AND" property="equal.maintainId">
      maintain_id =  #equal.maintainId:VARCHAR#
    </isNotNull>
  </sql> 
  <select id="countParam" parameterClass="dynamicSqlParameter" resultClass="int">
    SELECT COUNT(1) FROM 
    <include refid="table" />
    <include refid="where_param" />
  </select>
  <select id="selectPageForParam" parameterClass="dynamicSqlParameter" resultMap="RepairAnnex">
	SELECT BB.* FROM 
    (SELECT 
	    <include refid="columns" /> 
	     FROM 
	    <include refid="table" />
	    <include refid="where_param" />
    ) BB
    LIMIT #startNum#,#pagesize#
  </select>
  
</sqlMap>